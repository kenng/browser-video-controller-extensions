(()=>{"use strict";function e(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var t,i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}i.enabled=!0,i.log=function(a){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];i.enabled&&(t=console).log.apply(t,[a].concat(e(o)))};var n=function(){function e(t,i,a,n){var o=void 0===i?1:i,r=void 0===a?.2:a,l=void 0===n?.1:n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxPlaybackRate=6,this.video=t,this.seekRate=o,this.playbackRate=r,this.volumeRate=l}var t,n;return t=e,(n=[{key:"controller",value:function(e){e.shiftKey?e.altKey?this.setVolume(e):this.setCurrentTime(e):e.altKey&&this.setPlayRate(e)}},{key:"decimal",value:function(e){return Math.round(100*e)/100}},{key:"setPlayRate",value:function(e){if(e.deltaY>0){var t=this.video.playbackRate-this.playbackRate;this.video.playbackRate=t>.1?this.decimal(t):.1}else(t=this.video.playbackRate+this.playbackRate)<this.maxPlaybackRate?this.video.playbackRate=this.decimal(t):this.video.playbackRate=this.maxPlaybackRate;e.preventDefault(),i.log("playRate",this.video.playbackRate)}},{key:"setCurrentTime",value:function(e){if(e.deltaY>0){var t=this.video.currentTime-this.seekRate;this.video.currentTime=t>0?this.decimal(t):0}else(t=this.video.currentTime+this.seekRate)<this.video.duration&&(this.video.currentTime=this.decimal(t));e.preventDefault(),i.log("currentTime",this.video.currentTime)}},{key:"setVolume",value:function(e){if(e.deltaY>0){var t=this.video.volume-this.volumeRate;this.video.volume=t>0?this.decimal(t):0}else t=this.video.volume+this.volumeRate,this.video.volume=t<1?this.decimal(t):1;e.preventDefault(),i.log("volume",this.video.volume)}}])&&a(t.prototype,n),e}();function o(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.iwVideos=[],this.getVideo(document),window.addEventListener("wheel",this.onMouseWheel.bind(this),{passive:!1})}var t,i;return t=e,(i=[{key:"getVideo",value:function(e){for(var t=e.getElementsByTagName("video"),i=0;i<t.length;i++)this.iwVideos.push(new n(t[i]))}},{key:"onMouseWheel",value:function(e){var t=!0,i=!1,a=void 0;try{for(var n,o=this.iwVideos[Symbol.iterator]();!(t=(n=o.next()).done);t=!0)n.value.controller(e)}catch(e){i=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw a}}}}])&&o(t.prototype,i),e}();window.onload=function(){new r}})();